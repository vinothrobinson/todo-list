(()=>{"use strict";let e=[];class t{constructor(e,t){this.title=e,this.projectTasks=t}}const n=()=>{const t=document.querySelector(".project-display");t.replaceChildren();for(let n=0;n<e.length;n++){const o=document.createElement("div");o.classList.add("project"),o.style.backgroundColor="#e2e8f0",o.innerHTML=`\n        <div class="title">${e[n].title}</div>\n        <div class="remove">X</div>\n        `,t.appendChild(o)}document.querySelectorAll(".project").forEach((function(t,n){t.addEventListener("click",(function(){document.querySelector(".current-page").innerHTML=`${e[n].title}`,c(e[n].projectTasks)}))})),document.querySelectorAll(".remove").forEach((function(e,t){e.addEventListener("click",(function(){o(t)}))}))},o=t=>{let o=e[t].title;for(let e=0;e<r.length;e++)r[e].projectName===o&&r.splice(e,1);e.splice(t,1),n(),document.querySelector(".current-page").innerHTML="Home",i()},c=t=>{const n=document.querySelector(".task-display");n.replaceChildren();for(let e=0;e<t.length;e++){const o=document.createElement("div");o.classList.add("task"),o.style.backgroundColor="#e2e8f0",o.innerHTML=`\n        <div class="complete p-complete"></div>\n        <div class="task-info">\n            <div class="title">${t[e].title}</div>\n            <div class="description">${t[e].description}</div>\n        </div>\n        <div class="date">${t[e].dueDate}</div>\n        `,n.appendChild(o)}document.querySelectorAll(".complete").forEach((function(t,n){t.addEventListener("click",(function(t){let o=t.target.closest(".task");o=o.children[1],o=o.children[0],r.splice(n,1);let l=document.querySelector(".current-page"),i=e.findIndex((e=>e.title===l.innerHTML)),d=e[i].projectTasks,s=d.findIndex((e=>e.title===o.innerHTML));d.splice(s,1),c(d)}))}))};let r=[];class l{constructor(e,t,n,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.projectName=c}}const i=()=>{const t=document.querySelector(".task-display");t.replaceChildren();for(let e=0;e<r.length;e++){const n=document.createElement("div");n.classList.add("task"),n.style.backgroundColor="#e2e8f0",n.innerHTML=`\n        <div class="complete"></div>\n        <div class="task-info">\n            <div class="title">${r[e].title}</div>\n            <div class="description">${r[e].description}</div>\n        </div>\n        <div class="date">${r[e].dueDate}</div>\n        `,t.appendChild(n)}document.querySelectorAll(".complete").forEach((function(t,n){t.addEventListener("click",(function(t){if("Home"===r[n].projectName)r.splice(n,1),i();else{let o=t.target.closest(".task");o=o.children[1],o=o.children[0];let c=e.findIndex((e=>e.title===r[n].projectName)),l=e[c].projectTasks,d=l.findIndex((e=>e.title===o.innerHTML));r.splice(n,1),l.splice(d,1),i()}}))}))},d=document.querySelector(".new-todo");let s=!0;d.addEventListener("click",(function(){s?(document.querySelector("#new-todo-form").style.display="flex",s=!1):(document.querySelector("#new-todo-form").style.display="none",s=!0)})),document.querySelector("#new-todo-form").addEventListener("submit",(function(t){"Home"===document.querySelector(".current-page").innerHTML?(t.preventDefault(),(()=>{document.querySelector("#new-todo-form").style.display="none";let e=document.querySelector("#title").value,t=document.querySelector("#description").value,n=document.querySelector("#due-date").value;""===n&&(n="No Date");let o=document.querySelector("#priority").value,c=new l(e,t,n,o,"Home");r.push(c),i()})()):(t.preventDefault(),(()=>{document.querySelector("#new-todo-form").style.display="none";let t=document.querySelector(".current-page"),n=e.findIndex((e=>e.title===t.innerHTML)),o=document.querySelector("#title").value,i=document.querySelector("#description").value,d=document.querySelector("#due-date").value;""===d&&(d="No Date");let s=document.querySelector("#priority").value,u=e[n].title,a=new l(o,i,d,s,u);e[n].projectTasks.push(a),r.push(a),c(e[n].projectTasks)})())}));const u=document.querySelector(".new-project");let a=!0;u.addEventListener("click",(function(){a?(document.querySelector("#new-project-form").style.display="flex",a=!1):(document.querySelector("#new-project-form").style.display="none",a=!0)})),document.querySelector("#new-project-form").addEventListener("submit",(function(o){o.preventDefault(),(()=>{document.querySelector("#new-project-form").style.display="none";let o=document.querySelector("#project-title").value,c=new t(o,[]);e.push(c),n()})()})),document.querySelector(".home-button").addEventListener("click",(function(){document.querySelector(".current-page").innerHTML="Home",i()})),window.history.replaceState&&window.history.replaceState(null,null,window.location.href)})();